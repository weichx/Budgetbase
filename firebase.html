<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script type='text/javascript' src='https://cdn.firebase.com/v0/firebase.js'></script>

    <script>
        var Budgetbase = Firebase;

        var root = "https://burst.firebaseio.com/";
        var ref = new Budgetbase(root + "one");

        var fn_add = function(s){
            console.log(s.name() + " was added");
        };

        var fn_remove = function(s){
            console.log(s.name() + " was removed");
        };

        var initial = {
            'a':{
                "b1":2,
                "b2":3
        }
        };

        var end = {
            'a':{
                'b3':4
            }
        };


        ref.set(initial);

        ref.on('child_added', fn_add);

        ref.parent().on('child_removed', fn_remove);
        ref.child('a').on('child_removed', fn_remove);
        ref.update(end);

    </script>
</head>
<body>

</body>
</html>

